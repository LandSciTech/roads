<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Project road locations based on existing roads, planned landings, and a cost
surface that defines the cost of building roads."><title>Project road network — projectRoads • roads</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Project road network — projectRoads"><meta property="og:description" content="Project road locations based on existing roads, planned landings, and a cost
surface that defines the cost of building roads."><meta property="og:image" content="https://landscitech.github.io/roads/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">roads</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ReconstructRoadHistory.html">Reconstruct road development history</a>
    <a class="dropdown-item" href="../articles/getDistFromSource.html">getDistFromSource</a>
    <a class="dropdown-item" href="../articles/roads-vignette.html">roads Package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/LandSciTech/roads/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Project road network</h1>
      <small class="dont-index">Source: <a href="https://github.com/LandSciTech/roads/blob/HEAD/R/projectRoads.R" class="external-link"><code>R/projectRoads.R</code></a></small>
      <div class="d-none name"><code>projectRoads.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Project road locations based on existing roads, planned landings, and a cost
surface that defines the cost of building roads.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">projectRoads</span><span class="op">(</span></span>
<span>  landings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cost <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roads <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadMethod <span class="op">=</span> <span class="st">"mst"</span>,</span>
<span>  plotRoads <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mainTitle <span class="op">=</span> <span class="st">""</span>,</span>
<span>  neighbourhood <span class="op">=</span> <span class="st">"octagon"</span>,</span>
<span>  sim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadsOut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadsInCost <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ordering <span class="op">=</span> <span class="st">"closest"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for ANY,ANY,ANY,ANY,ANY,ANY,ANY,missing</span></span>
<span><span class="fu">projectRoads</span><span class="op">(</span></span>
<span>  landings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cost <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roads <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadMethod <span class="op">=</span> <span class="st">"mst"</span>,</span>
<span>  plotRoads <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mainTitle <span class="op">=</span> <span class="st">""</span>,</span>
<span>  neighbourhood <span class="op">=</span> <span class="st">"octagon"</span>,</span>
<span>  sim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadsOut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadsInCost <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ordering <span class="op">=</span> <span class="st">"closest"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for ANY,ANY,ANY,ANY,ANY,ANY,ANY,list</span></span>
<span><span class="fu">projectRoads</span><span class="op">(</span></span>
<span>  landings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cost <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roads <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadMethod <span class="op">=</span> <span class="st">"mst"</span>,</span>
<span>  plotRoads <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mainTitle <span class="op">=</span> <span class="st">""</span>,</span>
<span>  neighbourhood <span class="op">=</span> <span class="st">"octagon"</span>,</span>
<span>  sim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadsOut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  roadsInCost <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ordering <span class="op">=</span> <span class="st">"closest"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>landings</dt>
<dd><p>sf polygons or points, RasterLayer, SpatialPolygons*,
SpatialPoints*, matrix, containing features to be connected
to the road network. Matrix should contain columns x, y with coordinates,
all other columns will be ignored.</p></dd>


<dt>cost</dt>
<dd><p>RasterLayer. Cost surface where existing roads must be the only
cells with a cost of 0. If existing roads do not have 0 cost set
<code>roadsInCost = FALSE</code> and they will be burned in.</p></dd>


<dt>roads</dt>
<dd><p>sf lines, SpatialLines*, RasterLayer. Existing road network.</p></dd>


<dt>roadMethod</dt>
<dd><p>Character. Options are "mst", "dlcp", "lcp", "snap".</p></dd>


<dt>plotRoads</dt>
<dd><p>Boolean. Should the resulting road network be plotted.
Default FALSE.</p></dd>


<dt>mainTitle</dt>
<dd><p>Character. A title for the plot</p></dd>


<dt>neighbourhood</dt>
<dd><p>Character. 'rook','queen', or 'octagon'. The cells that
should be considered adjacent. 'octagon' option is a modified version of
the queen's 8 cell neighbourhood in which diagonals weights are 2^0.5x
higher than horizontal/vertical weights.</p></dd>


<dt>sim</dt>
<dd><p>list. Returned from a previous iteration of <code>projectRoads</code>.
cost, roads, and <code>roadMethod</code> are ignored if a <code>sim</code> list is provided.</p></dd>


<dt>roadsOut</dt>
<dd><p>Character. Either "raster", "sf" or NULL. If "raster" roads
are returned as a raster in the <code>sim</code> list. If "sf" the roads are returned as
an sf object which will contain lines if the roads input was sf lines but a
geometry collection of lines and points if the roads input was a raster.
The points in the geometry collection represent the existing roads while
new roads are created as lines. If NULL (default) then the returned roads
are sf if the input is sf or Spatial* and raster if the input was a raster.</p></dd>


<dt>roadsInCost</dt>
<dd><p>Logical. The default is TRUE which means the cost raster
is assumed to include existing roads as 0 in its cost surface. If FALSE
then the roads will be "burned in" to the cost raster with a cost of 0.</p></dd>


<dt>ordering</dt>
<dd><p>character. The order in which roads should be built to
landings when `roadMethod = "dlcp"`. Options are "closest" (default) where
landings closest to existing roads are accessed first, or "none" where
landings are accessed in the order they are provided in.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a list with components:</p><ul><li><p>roads: the projected road network, including new and input roads.</p></li>
<li><p>costSurface: the cost surface, updated to have 0 for new roads that
      were added.</p></li>
<li><p>roadMethod: the road simulation method used.</p></li>
<li><p>landings: the landings used in the simulation.</p></li>
<li><p>g: the graph that describes the cost of paths between each cell in the
      cost raster. This is updated based on the new roads so that vertices 
      were connected by new roads now have a cost of 0. This can be used to 
      avoid recomputing the graph in a simulation with multiple time steps.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Four different methods for projecting road networks have been implemented:</p><ul><li><p>"snap": Connects each landing directly to the closest road without
  reference to the cost or other landings</p></li>
<li><p>"lcp": Least Cost Path connects each landing to the closest point
  on the road by determining the least cost path based on the cost surface
  provided, it does not consider other landings</p></li>
<li><p>"dlcp": Dynamic Least Cost Path, same as "lcp" but it builds each
  path sequentially so that later roads will use earlier roads. The sequence
  of landings is determined by `ordering` and is "closest" by default, the
  other option is "none" which will use the order that landings are supplied
  in.</p></li>
<li><p>"mst": Minimum Spanning Tree connects all landings to the road by
  determining the least cost path to the road or other landings based on the
  cost surface</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">CLUSexample</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepExData.html">prepExData</a></span><span class="op">(</span><span class="va">CLUSexample</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doPlots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">projectRoads</span><span class="op">(</span><span class="va">CLUSexample</span><span class="op">$</span><span class="va">landings</span>, <span class="va">CLUSexample</span><span class="op">$</span><span class="va">cost</span>, <span class="va">CLUSexample</span><span class="op">$</span><span class="va">roads</span>,</span></span>
<span class="r-in"><span>             <span class="st">"lcp"</span>, plotRoads <span class="op">=</span> <span class="va">doPlots</span>, mainTitle <span class="op">=</span> <span class="st">"CLUSexample"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0s detected in cost raster, these will be considered as existing roads</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $roads</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class       : SpatRaster </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dimensions  : 5, 5, 1  (nrow, ncol, nlyr)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> resolution  : 1, 1  (x, y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extent      : 0, 5, 0, 5  (xmin, xmax, ymin, ymax)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coord. ref. : lon/lat WGS 84 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> source(s)   : memory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name        : lyr.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> min value   : FALSE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> max value   :  TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $costSurface</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class       : SpatRaster </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dimensions  : 5, 5, 1  (nrow, ncol, nlyr)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> resolution  : 1, 1  (x, y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extent      : 0, 5, 0, 5  (xmin, xmax, ymin, ymax)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coord. ref. : lon/lat WGS 84 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> source(s)   : memory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name        :    lyr.1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> min value   :  0.00000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> max value   : 19.84622 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $roadMethod</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "lcp"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $landings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 4 features and 0 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 0.5 ymin: 0.5 xmax: 4.5 ymax: 2.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 POINT (0.5 2.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 POINT (2.5 2.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 POINT (1.5 0.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 POINT (4.5 0.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $g</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGRAPH 2d6682a U-W- 25 72 -- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + attr: weight (e/n)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + edges from 2d6682a:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1-- 2  1-- 6  2-- 3  2-- 7  3-- 4  3-- 8  4-- 5  4-- 9  5--10  6-- 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11]  6--11  7-- 8  7--12  8-- 9  8--13  9--10  9--14 10--15 11--12 11--16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] 12--13 12--17 13--14 13--18 14--15 14--19 15--20 16--17 16--21 17--18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] 17--22 18--19 18--23 19--20 19--24 20--25 21--22 22--23 23--24 24--25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41]  1-- 7  2-- 6  2-- 8  3-- 7  3-- 9  4-- 8  4--10  5-- 9  6--12  7--11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51]  7--13  8--12  8--14  9--13  9--15 10--14 11--17 12--16 12--18 13--17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [61] 13--19 14--18 14--20 15--19 16--22 17--21 17--23 18--22 18--24 19--23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [71] 19--25 20--24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>                         </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># More realistic examples that take longer to run</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">demoScen</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepExData.html">prepExData</a></span><span class="op">(</span><span class="va">demoScen</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### using:  scenario 1 / sf landings / least-cost path ("lcp")</span></span></span>
<span class="r-in"><span><span class="co"># demo scenario 1</span></span></span>
<span class="r-in"><span><span class="va">scen</span> <span class="op">&lt;-</span> <span class="va">demoScen</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># landing set 1 of scenario 1:</span></span></span>
<span class="r-in"><span><span class="va">land.pnts</span> <span class="op">&lt;-</span> <span class="va">scen</span><span class="op">$</span><span class="va">landings.points</span><span class="op">[</span><span class="va">scen</span><span class="op">$</span><span class="va">landings.points</span><span class="op">$</span><span class="va">set</span><span class="op">==</span><span class="fl">1</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prRes</span> <span class="op">&lt;-</span> <span class="fu">projectRoads</span><span class="op">(</span><span class="va">land.pnts</span>, <span class="va">scen</span><span class="op">$</span><span class="va">cost.rast</span>, <span class="va">scen</span><span class="op">$</span><span class="va">road.line</span>, <span class="st">"lcp"</span>,</span></span>
<span class="r-in"><span>                         plotRoads <span class="op">=</span> <span class="va">doPlots</span>, mainTitle <span class="op">=</span> <span class="st">"Scen 1: SPDF-LCP"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0s detected in cost raster, these will be considered as existing roads</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### using: scenario 1 / SpatRaster landings / minimum spanning tree ("mst")</span></span></span>
<span class="r-in"><span><span class="co"># demo scenario 1</span></span></span>
<span class="r-in"><span><span class="va">scen</span> <span class="op">&lt;-</span> <span class="va">demoScen</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the RasterLayer version of landing set 1 of scenario 1:</span></span></span>
<span class="r-in"><span><span class="va">land.rLyr</span> <span class="op">&lt;-</span> <span class="va">scen</span><span class="op">$</span><span class="va">landings.stack</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prRes</span> <span class="op">&lt;-</span> <span class="fu">projectRoads</span><span class="op">(</span><span class="va">land.rLyr</span>, <span class="va">scen</span><span class="op">$</span><span class="va">cost.rast</span>, <span class="va">scen</span><span class="op">$</span><span class="va">road.line</span>, <span class="st">"mst"</span>,</span></span>
<span class="r-in"><span>                         plotRoads <span class="op">=</span> <span class="va">doPlots</span>, mainTitle <span class="op">=</span> <span class="st">"Scen 1: Raster-MST"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0s detected in cost raster, these will be considered as existing roads</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### using: scenario 2 / matrix landings raster roads / snapping ("snap")</span></span></span>
<span class="r-in"><span><span class="co"># demo scenario 2</span></span></span>
<span class="r-in"><span><span class="va">scen</span> <span class="op">&lt;-</span> <span class="va">demoScen</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># landing set 5 of scenario 2, as matrix:</span></span></span>
<span class="r-in"><span><span class="va">land.mat</span>  <span class="op">&lt;-</span> <span class="va">scen</span><span class="op">$</span><span class="va">landings.points</span><span class="op">[</span><span class="va">scen</span><span class="op">$</span><span class="va">landings.points</span><span class="op">$</span><span class="va">set</span><span class="op">==</span><span class="fl">5</span>,<span class="op">]</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html" class="external-link">st_coordinates</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prRes</span> <span class="op">&lt;-</span> <span class="fu">projectRoads</span><span class="op">(</span><span class="va">land.mat</span>, <span class="va">scen</span><span class="op">$</span><span class="va">cost.rast</span>, <span class="va">scen</span><span class="op">$</span><span class="va">road.rast</span>, <span class="st">"snap"</span>,</span></span>
<span class="r-in"><span>                      plotRoads <span class="op">=</span> <span class="va">doPlots</span>, mainTitle <span class="op">=</span> <span class="st">"Scen 2: Matrix-Snap"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0s detected in cost raster, these will be considered as existing roads</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of landings supplied as a matrix is assumed to match the cost</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## using scenario 7 / Polygon landings raster / minimum spanning tree</span></span></span>
<span class="r-in"><span><span class="co"># demo scenario 7</span></span></span>
<span class="r-in"><span><span class="va">scen</span> <span class="op">&lt;-</span> <span class="va">demoScen</span><span class="op">[[</span><span class="fl">7</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># rasterize polygonal landings of demo scenario 7:</span></span></span>
<span class="r-in"><span><span class="va">land.polyR</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rasterize.html" class="external-link">rasterize</a></span><span class="op">(</span><span class="va">scen</span><span class="op">$</span><span class="va">landings.poly</span>, <span class="va">scen</span><span class="op">$</span><span class="va">cost.rast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">prRes</span> <span class="op">&lt;-</span> <span class="fu">projectRoads</span><span class="op">(</span><span class="va">land.polyR</span>, <span class="va">scen</span><span class="op">$</span><span class="va">cost.rast</span>, <span class="va">scen</span><span class="op">$</span><span class="va">road.rast</span>, <span class="st">"mst"</span>,</span></span>
<span class="r-in"><span>                         plotRoads <span class="op">=</span> <span class="va">doPlots</span>, mainTitle <span class="op">=</span> <span class="st">"Scen 7: PolyRast-MST"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0s detected in cost raster, these will be considered as existing roads</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Sarah Endicott, Kyle Lochhead, Josie Hughes, Patrick Kirby.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

